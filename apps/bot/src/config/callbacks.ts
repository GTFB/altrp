// –°–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞
// export const messages = {
//   selectLanguage: `Izaberite jezik / –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:`,
//   welcome: `–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ bznrs! –í–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–∞—É—à–∞–ª—å—Ü–µ–≤. –î–∞–≤–∞–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏–º –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å.`,
//   companyName: `–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π —Ñ–∏—Ä–º—ã.`,
//   pib: `–°–ø–∞—Å–∏–±–æ. –¢–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à PIB (–Ω–∞–ª–æ–≥–æ–≤—ã–π –Ω–æ–º–µ—Ä).`,
//   okved: `–û—Ç–ª–∏—á–Ω–æ. –¢–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–æ–¥ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–û–ö–í–≠–î).`,
//   mainService: `–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É –æ—Å–Ω–æ–≤–Ω—É—é —É—Å–ª—É–≥—É (–Ω–∞–ø—Ä., '–£—Å–ª—É–≥–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è'). –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—á–µ—Ç–æ–≤.`,
//   phone: `–°–ø–∞—Å–∏–±–æ. –¢–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω.`,
//   email: `–ò –Ω–∞–ø–æ—Å–ª–µ–¥–æ–∫, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à email.`,
//   onboardingThanks: `–û—Ç–ª–∏—á–Ω–æ, –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≥–ª–∞–≤–Ω—ã–º –º–µ–Ω—é.`,
//   consultation_greeting: `–í—ã–±–µ—Ä–∏—Ç–µ, –∫ –∫–æ–º—É —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ.`,
//   ask_to_lawyer: `–û–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å —é—Ä–∏—Å—Ç—É.`,
//   ask_to_accountant: `–û–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –±—É—Ö–≥–∞–ª—Ç–µ—Ä—É.`,
//   consultation_auto_answer: `–°–ø–∞—Å–∏–±–æ! –í–∞—à –≤–æ–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω.`,
//   mainMenu: `–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –º–µ–Ω—é.`,

//   help: `–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
// /start - –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
// /help - –ø–æ–º–æ—â—å`,

// };

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
export const keyboards = {
  lang: {
    inline_keyboard: [[
      {
        text: "üá∑üá∏ Srpski",
        callback_data: "lang_select_sr"
      },
      {
        text: "üá∑üá∫ –†—É—Å—Å–∫–∏–π",
        callback_data: "lang_select_ru"
      }
    ]]
  },
  edit_lang: {
    inline_keyboard: [[
      {
        text: "üá∑üá∏ Srpski",
        callback_data: "save_edited_language_sr"
      },
      {
        text: "üá∑üá∫ –†—É—Å—Å–∫–∏–π",
        callback_data: "save_edited_language_ru"
      }
    ]]
  },

  start_creating_company: {
    inline_keyboard: [[
      {
        text: "–ù–∞—á–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É",
        callback_data: "start_creating_company_step"
      },
    ]]
  },
  main_menu: {
    inline_keyboard: [
      [
        {
          text: "üìÑ –í—ã—Å—Ç–∞–≤–∏—Ç—å —Å—á–µ—Ç",
          callback_data: "create_invoice"
        },
      ],
      [
        {
          text: "üìä –û—Ç—á–µ—Ç—ã",
          callback_data: "reports"
        },
      ],
      [
        {
          text: "üìÅ –®–∞–±–ª–æ–Ω—ã",
          callback_data: "doc_templates"
        },
      ],
      [
        {
          text: "üí° –ü–æ–º–æ—â—å –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
          callback_data: "consultation"
        },
      ],
      [
        {
          text: "‚öôÔ∏è –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å",
          callback_data: "profile"
        },
      ],
    ]
  },
  consultation: {
    inline_keyboard: [[
      {
        text: "‚öñÔ∏è –Æ—Ä–∏—Å—Ç",
        callback_data: "consultation_lawyer"
      },
      {
        text: "üßæ –ë—É—Ö–≥–∞–ª—Ç–µ—Ä",
        callback_data: "consultation_accountant"
      }
    ]]
  },
  client_card_buttons: {
    inline_keyboard: [[
      {
        text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å",
        callback_data: "show_main_service"
      },
      {
        text: "–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç",
        callback_data: "create_invoice"
      }
    ]]
  },
  service_card_buttons: {
    inline_keyboard: [[
      {
        text: "–î–∞, –≤–µ—Ä–Ω–æ",
        callback_data: "ask_to_invoice_amount"
      },
      {
        text: "–í–≤–µ—Å—Ç–∏ –¥—Ä—É–≥—É—é —É—Å–ª—É–≥—É",
        callback_data: "ask_to_invoice_service_name"
      }
    ]]
  },

  edit_service: {
    inline_keyboard: [[
      {
        text: "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
        callback_data: "edit_service_name"
      },
      {
        text: "–í–Ω–µ—Å—Ç–∏ –¥—Ä—É–≥—É—é —É—Å–ª—É–≥—É",
        callback_data: "add_new_service_name"
      }
    ]]
  },

  invoice_card_buttons: {
    inline_keyboard: [[
      {
        text: "–í—Å–µ –≤–µ—Ä–Ω–æ",
        callback_data: "confirm_invoice_data"
      },
      {
        text: "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π",
        callback_data: "create_invoice"
      }
    ]]
  },

  select_template: {
    inline_keyboard: [[
      {
        text: "üìÑ –î–æ–≥–æ–≤–æ—Ä",
        callback_data: "get_contract_template"
      },
      {
        text: "‚úÖ –ê–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç",
        callback_data: "get_act_template"
      }
    ]]
  },

  select_report: {
    inline_keyboard: [[
      {
        text: "üìà –î–æ—Ö–æ–¥—ã / –ö–ü–û",
        callback_data: "get_payments"
      },
      {
        text: "üìâ –†–∞—Å—Ö–æ–¥—ã",
        callback_data: "get_expenses"
      }
    ]]
  },

  add_new_expense: {
    inline_keyboard: [[
      {
        text: "–í–Ω–µ—Å—Ç–∏ –Ω–æ–≤—ã–π —Ä–∞—Å—Ö–æ–¥",
        callback_data: "add_new_expense"
      },
    ]]
  },

  select_profile_item: {
    inline_keyboard: [
      [
        {
          text: "–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏—Ä–º—ã",
          callback_data: "edit_company_name"
        },
      ],
      [
        {
          text: "PIB",
          callback_data: "edit_company_pib"
        },
      ],
      [
        {
          text: "–û–ö–í–≠–î",
          callback_data: "edit_company_okved"
        },
      ],
      [
        {
          text: "–û—Å–Ω–æ–≤–Ω–∞—è —É—Å–ª—É–≥–∞",
          callback_data: "edit_service"
        },
      ],
      [
        {
          text: "–°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫",
          callback_data: "edit_language"
        }
      ],
    ]
  },

  // subscription: {
  //   inline_keyboard: [
  //     [
  //       {
  //         text: "üëâ –ù–∞—à Telegram",
  //         url: "https://t.me/ml_cosmetic"
  //       }
  //     ],
  //     [
  //       {
  //         text: "‚ú®–ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–≤–µ—Ä—è–π!",
  //         callback_data: "check_subscription"
  //       }
  //     ]
  //   ]
  // }
};

// –ö–æ–º–∞–Ω–¥—ã –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
export const commands = {
  "/start": "start",
  "/help": "help", 
  "/confirmed": "confirmed",
  "/not_confirmed": "notConfirmed"
} as const;

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è callback –∫–Ω–æ–ø–æ–∫ - —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
// export const callbackActions = {
//   "start_flow": {
//     action: "start_flow", // –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–ª–æ—É
//     flowName: "subscription"
//   },
//   "check_subscription": {
//     action: "go_to_step", // –ü–µ—Ä–µ–π—Ç–∏ –∫ —à–∞–≥—É
//     stepId: "ask_vk_link"
//   }
// } as const;
// –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
export const callbackActions = {
  // –í—ã–±–æ—Ä —è–∑—ã–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  "lang_select_sr": {
    action: "set_variable",
    variable: "profile.language",
    value: "sr",
    //nextFlow: "onboarding"
    nextStep: "save_language"
  },
  "lang_select_ru": {
    action: "set_variable", 
    variable: "profile.language",
    value: "ru",
    //nextFlow: "onboarding"
    nextStep: "save_language"
  },

  "save_edited_language_sr": {
    action: "set_variable",
    variable: "profile.language",
    value: "sr",
    nextStep: "save_edited_language"
  },
  "save_edited_language_ru": {
    action: "set_variable", 
    variable: "profile.language",
    value: "ru",
    nextStep: "save_edited_language"
  },

  // –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ onboarding
  "start_creating_company_step": {
    action: "go_to_step",
    stepId: "ask_company_name"
  },

  "consultation": {
    action: "start_flow",
    flowName: "consultation"
  },

  "reports": {
    action: "start_flow",
    flowName: "reports"
  },

  "get_payments": {
    action: "go_to_step",
    stepId: "handle_get_payments"
  },
  "get_expenses": {
    action: "go_to_step",
    stepId: "handle_get_expenses"
  },
  


  "doc_templates": {
    action: "start_flow",
    flowName: "doc_templates"
  },

  "create_invoice": {
    action: "start_flow",
    flowName: "create_invoice"
  },

  "confirm_invoice_data": {
    action: "go_to_step",
    stepId: "confirm_invoice_data"
  },

  "show_main_service": {
    action: "go_to_step",
    stepId: "show_main_service"
  },
  "ask_to_invoice_service_name": {
    action: "go_to_step",
    stepId: "ask_to_invoice_service_name"
  },
  "ask_to_invoice_amount": {
    action: "go_to_step",
    stepId: "ask_to_invoice_amount"
  },

  "add_new_expense": {
    action: "go_to_step",
    stepId: "add_new_expense_amount"
  },

  "consultation_lawyer": {
    action: "set_variable",
    variable: "consultation.type",
    value: "lawyer",
    nextStep: "ask_to_lawyer"
  },
  "consultation_accountant": {
    action: "set_variable",
    variable: "consultation.type",
    value: "accountant", 
    nextStep: "ask_to_accountant"
  },

  //–ó–∞–ø—Ä–æ—Å —à–∞–±–ª–æ–Ω–æ–≤
  "get_contract_template": {
    action: "set_variable",
    variable: "need_template.type",
    value: "contract", 
    nextStep: "handle_get_template"
  },

  "get_act_template": {
    action: "set_variable",
    variable: "need_template.type",
    value: "act", 
    nextStep: "handle_get_template"
  },

  //profile
  "profile": {
    action: "start_flow",
    flowName: "profile"
  },

  "edit_company_name": {
    action: "start_flow",
    flowName: "edit_company_name"
  },

  "edit_company_pib": {
    action: "start_flow",
    flowName: "edit_company_pib"
  },

  "edit_company_okved": {
    action: "start_flow",
    flowName: "edit_company_okved"
  },

  "edit_service": {
    action: "start_flow",
    flowName: "edit_service"
  },

  "edit_language": {
    action: "start_flow",
    flowName: "edit_language"
  },


  "edit_service_name": {
    action: "go_to_step",
    stepId: "ask_to_edit_service_name"
  },
  "add_new_service_name": {
    action: "go_to_step",
    stepId: "ask_to_new_service_name"
  },
  



  // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
  "restart_bot": {
    action: "start_flow",
    flowName: "start_registration"
  },


  

} as const;


// Legacy callbacks —É–¥–∞–ª–µ–Ω—ã - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ callbackActions

// –¢–∏–ø—ã –¥–ª—è TypeScript
export type CommandHandler = keyof typeof commands;
export type CallbackActionType = 'start_flow' | 'go_to_step' | 'go_to_flow' | 'set_variable';

export interface CallbackActionConfig {
  action: CallbackActionType;
  flowName?: string;    // –î–ª—è start_flow
  stepId?: string;      // –î–ª—è go_to_step
  variable?: string;    // –î–ª—è set_variable
  value?: any;          // –î–ª—è set_variable
  nextFlow?: string;    // –î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ñ–ª–æ—É –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è
  nextStep?: string;    // –î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è
}
