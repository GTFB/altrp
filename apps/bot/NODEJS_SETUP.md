# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Node.js –≤–µ—Ä—Å–∏–∏ –±–æ—Ç–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –≤ Node.js –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞:

### üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
src/
‚îú‚îÄ‚îÄ core/           # ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞)
‚îú‚îÄ‚îÄ config/         # ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–Ω–µ –∏–∑–º–µ–Ω–µ–Ω—ã)  
‚îú‚îÄ‚îÄ content/        # ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (–Ω–µ –∏–∑–º–µ–Ω–µ–Ω)
‚îú‚îÄ‚îÄ worker/         # ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π Cloudflare Worker –∫–æ–¥ (–Ω–µ –∏–∑–º–µ–Ω–µ–Ω)
‚îú‚îÄ‚îÄ nodejs/         # üÜï –ù–æ–≤–∞—è –ø–∞–ø–∫–∞ –¥–ª—è Node.js —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ bot.ts              # –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ storage-service.ts  # PostgreSQL + Redis –∞–¥–∞–ø—Ç–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ server.js           # Express —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ worker.ts       # ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Worker (–Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞)
```

### üîß –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `tsconfig.nodejs.json` - TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Node.js
- `env.example` - –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω `package.json` —Å –Ω–æ–≤—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∏ Redis
# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å—Ö–µ–º—É
```

### 4. –ó–∞–ø—É—Å–∫

#### Cloudflare Worker (–∫–∞–∫ —Ä–∞–Ω—å—à–µ):
```bash
npm run start:worker
# –∏–ª–∏
npm run dev
```

#### Node.js (–Ω–æ–≤–æ–µ):
```bash
npm run start:nodejs
# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev:nodejs
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `npm run start:worker` | –ó–∞–ø—É—Å–∫ Cloudflare Worker |
| `npm run start:nodejs` | –ó–∞–ø—É—Å–∫ Node.js —Å–µ—Ä–≤–µ—Ä–∞ |
| `npm run dev:nodejs` | –ó–∞–ø—É—Å–∫ Node.js –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| `npm run build:worker` | –°–±–æ—Ä–∫–∞ –¥–ª—è Cloudflare Worker |
| `npm run build:nodejs` | –°–±–æ—Ä–∫–∞ –¥–ª—è Node.js |

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ä–µ–¥–∞–º–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **Cloudflare Worker**: `npm run dev`
- **Node.js**: `npm run dev:nodejs`

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:
- **Cloudflare Worker**: `npm run deploy`
- **Node.js**: `npm run start:nodejs`

## üóÑÔ∏è –†–∞–∑–ª–∏—á–∏—è –≤ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | Cloudflare Worker | Node.js |
|-----------|-------------------|---------|
| –û—Å–Ω–æ–≤–Ω–∞—è –ë–î | D1 (SQLite) | PostgreSQL |
| –ö—ç—à/–°–µ—Å—Å–∏–∏ | KV | Redis |
| HTTP —Å–µ—Ä–≤–µ—Ä | fetch handler | Express |
| Cron –∑–∞–¥–∞—á–∏ | scheduled handler | node-cron |

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Cloudflare Worker (wrangler.toml):
```toml
[vars]
BOT_TOKEN = "your_token"
ADMIN_CHAT_ID = "your_chat_id"
```

### Node.js (.env):
```env
BOT_TOKEN=your_token
ADMIN_CHAT_ID=your_chat_id
DATABASE_URL=postgresql://user:pass@localhost:5432/bot_db
REDIS_URL=redis://localhost:6379
PORT=3000
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω
- ‚úÖ **–ï–¥–∏–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω core
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** - –≤—ã–±–æ—Ä —Å—Ä–µ–¥—ã –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è** - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–º–µ–Ω—ã —Å—Ä–µ–¥—ã
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–ø–∫–∞ `nodejs/`

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** - —Å–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - `npm install`
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ë–î** - PostgreSQL + Redis
4. **–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–µ–¥—É** - Worker –∏–ª–∏ Node.js
5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å –≤ –≤—ã–±–æ—Ä–µ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è! üéâ
